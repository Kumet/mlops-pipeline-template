# GPU用雛形（将来の学習/推論を切替可能に）
FROM nvidia/cuda:12.2.0-cudnn8-runtime-ubuntu22.04
ENV DEBIAN_FRONTEND=noninteractive
RUN apt-get update && apt-get install -y python3 python3-pip && rm -rf /var/lib/apt/lists/*
RUN pip3 install --no-cache-dir uv
WORKDIR /app
COPY pyproject.toml ./
RUN uv sync --frozen
COPY . .
CMD ["uv", "run", "python", "-c", "print('GPU container ready')"]
